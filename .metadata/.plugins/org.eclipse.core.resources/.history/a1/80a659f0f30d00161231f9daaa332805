package com.frankstar.Spring;

import java.io.File;
import java.io.FileInputStream;
import java.net.URL;
import java.util.List;

import org.jdom.Document;
import org.jdom.Element;
import org.jdom.Namespace;
import org.jdom.input.SAXBuilder;



public class Bean {
	private String id;
	private String className;
	public String getId() {
		return id;
	}
	public void setId(String id) {
		this.id = id;
	}
	public String getClassName() {
		return className;
	}
	public void setClassName(String className) {
		this.className = className;
	}
	
	public void readXML(String fileName) {
		//寻找配置文件
		URL xmlPath = this.getClass().getClassLoader().getResource(fileName);
		Document document = null;
		Element element = null;
		try {
			SAXBuilder sBuilder = new SAXBuilder(false);
			document = sBuilder.build(new FileInputStream(new File(xmlPath.toURI())));
			//设置命名空间
			Namespace xhtml = Namespace.getNamespace("xhtml", "http://www.springframework.org/schema/beans");  
			element = document.getRootElement();//获取根节点
			List<Element> list = element.getChildren("bean", xhtml);
			for (Element element2 : list) {
				String id = element2.getAttributeValue("id");
				String className = element2.getAttributeValue("className");
				Bean bean = new Bean();
				bean.setId(id);
				bean.setClassName(className);
			}
		}
	}
}
